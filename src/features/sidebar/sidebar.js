import React, { useEffect, useState } from 'react';
import { Link, useHistory } from 'react-router-dom';
import classNames from 'classnames';
import { useActions, paths } from '@/shared';
import { currentUserSelector, logOut } from '@/models';
import { shallowEqual, useSelector } from 'react-redux';

import styles from './sidebar.scss';

const sidebarToggler = (
  <svg width="2em" height="2.5em" viewBox="0 0 16 16" className="bi bi-justify" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path fillRule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z" />
  </svg>
);

const students = (
  <svg className={styles.sidebar__icon} width="32px" height="32px" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" fill="currentColor">
    <g>
      <path d="M31,26c-0.6,0-1-0.4-1-1V12c0-0.6,0.4-1,1-1s1,0.4,1,1v13C32,25.6,31.6,26,31,26z"></path>
    </g>
    <g>
      <path d="M16,21c-0.2,0-0.3,0-0.5-0.1l-15-8C0.2,12.7,0,12.4,0,12s0.2-0.7,0.5-0.9l15-8c0.3-0.2,0.6-0.2,0.9,0l15,8
        c0.3,0.2,0.5,0.5,0.5,0.9s-0.2,0.7-0.5,0.9l-15,8C16.3,21,16.2,21,16,21z"></path>
    </g>
    <path d="M17.4,22.6C17,22.9,16.5,23,16,23s-1-0.1-1.4-0.4L6,18.1V22c0,3.1,4.9,6,10,6s10-2.9,10-6v-3.9L17.4,22.6z"></path>
  </svg>
);

const lessons = (
  <svg className={styles.sidebar__icon} height="32" viewBox="0 0 64 64" width="32" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
    <path d="m59 24.828v6.172h-2v-4h-2v4h-6v-7.382l2.553 1.276c.14.071.294.106.447.106.13 0 .26-.025.383-.076.268-.111.474-.333.566-.607l1.707-5.12c.988.259 1.896.769 2.638 1.511 1.1 1.1 1.706 2.563 1.706 4.12zm-14.5-5.828 1.981 2.641-1.897.949-1.196-3.59zm7 0h1.113l-1.196 3.59-1.897-.949zm-3.5-16c2.94 0 5.388 2.127 5.898 4.922-1.894-.24-3.647-1.086-5.018-2.457l-.171-.172c-.375-.377-1.041-.377-1.416 0l-.17.171c-1.372 1.372-3.125 2.218-5.019 2.457.508-2.794 2.956-4.921 5.896-4.921zm-5.925 6.947c2.198-.218 4.254-1.107 5.925-2.567 1.671 1.459 3.726 2.349 5.925 2.567-.455 2.86-2.939 5.053-5.925 5.053s-5.47-2.193-5.925-5.053zm5.925 7.053c.692 0 1.359-.097 2-.263v.93l-2 2.666-2-2.666v-.93c.641.166 1.308.263 2 .263zm-11 7.828c0-1.557.606-3.021 1.707-4.121.742-.741 1.65-1.252 2.638-1.511l1.707 5.12c.092.274.298.496.566.607.122.052.252.077.382.077.153 0 .307-.035.447-.105l2.553-1.277v7.382h-6v-4h-2v4h-2zm-12 4.172h6v2h-6zm-5 19c0-1.654 1.346-3 3-3s3 1.346 3 3-1.346 3-3 3-3-1.346-3-3zm-14 0c0-1.654 1.346-3 3-3s3 1.346 3 3-1.346 3-3 3-3-1.346-3-3zm-3 11c0-3.309 2.691-6 6-6s6 2.691 6 6v2h-12zm14 0c0-3.309 2.691-6 6-6s6 2.691 6 6v2h-12zm26 2h-12v-2c0-3.309 2.691-6 6-6s6 2.691 6 6zm-9-13c0-1.654 1.346-3 3-3s3 1.346 3 3-1.346 3-3 3-3-1.346-3-3zm25 11h-14c0-3.232-1.93-6.016-4.695-7.277 1.031-.917 1.695-2.238 1.695-3.723 0-2.757-2.243-5-5-5s-5 2.243-5 5c0 1.485.664 2.806 1.695 3.723-1.566.714-2.865 1.914-3.695 3.413-.83-1.498-2.129-2.698-3.695-3.413 1.031-.917 1.695-2.238 1.695-3.723 0-2.045-1.237-3.802-3-4.576v-6.424h34zm2-26v2h-38v-2z"></path>
    <path d="m22 8v-2c0-1.105-.895-2-2-2h-16c-1.105 0-2 .895-2 2v12c0 1.105.895 2 2 2h16c1.105 0 2-.895 2-2v-2l4-4zm-3 9h-14v-2h14zm-12-4v-2h10v2zm12-4h-14v-2h14z"></path>
  </svg>
);

const courses = (
  <svg className={styles.sidebar__icon} version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 172.122 172.122" fill="currentColor">
  <g>
    <path d="M136.979,20.393h-3.556c-1.395-5.368-6.224-9.354-12.032-9.354h-16.928C100.889,4.5,94.025,0,86.062,0
      C78.1,0,71.234,4.506,67.66,11.039H50.732c-5.812,0-10.638,3.985-12.035,9.354h-3.553c-6.884,0-12.471,5.59-12.471,12.47v126.789
      c0,6.887,5.587,12.471,12.471,12.471h101.835c6.881,0,12.471-5.584,12.471-12.471V32.863
      C149.449,25.967,143.871,20.393,136.979,20.393z M86.062,12.074c4.95,0,8.963,4.016,8.963,8.97c0,4.95-4.013,8.963-8.963,8.963
      c-4.951,0-8.967-4.019-8.967-8.963S81.11,12.074,86.062,12.074z M49.821,131.587c-3.449,0-6.235-2.789-6.235-6.236
      c0-3.446,2.786-6.234,6.235-6.234c3.456,0,6.235,2.788,6.235,6.234C56.057,128.798,53.265,131.587,49.821,131.587z M49.821,100.41
      c-3.449,0-6.235-2.789-6.235-6.235c0-3.447,2.786-6.235,6.235-6.235c3.456,0,6.235,2.788,6.235,6.235
      C56.057,97.621,53.265,100.41,49.821,100.41z M49.821,69.233c-3.449,0-6.235-2.792-6.235-6.235c0-3.446,2.786-6.235,6.235-6.235
      c3.456,0,6.235,2.789,6.235,6.235C56.057,66.441,53.265,69.233,49.821,69.233z M125.074,131.587H70.317
      c-3.456,0-6.235-2.789-6.235-6.236c0-3.446,2.78-6.234,6.235-6.234h54.757c3.453,0,6.235,2.788,6.235,6.234
      C131.31,128.798,128.527,131.587,125.074,131.587z M125.074,100.41H70.317c-3.456,0-6.235-2.789-6.235-6.235
      c0-3.447,2.78-6.235,6.235-6.235h54.757c3.453,0,6.235,2.788,6.235,6.235C131.31,97.621,128.527,100.41,125.074,100.41z
      M125.074,69.233H70.317c-3.456,0-6.235-2.792-6.235-6.235c0-3.446,2.78-6.235,6.235-6.235h54.757c3.453,0,6.235,2.789,6.235,6.235
      C131.31,66.441,128.527,69.233,125.074,69.233z"></path>
  </g>
</svg>
);

const schedule = (
  <svg className={styles.sidebar__icon} height="32px" viewBox="0 0 512 512" width="32px" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
    <g>
      <path d="m151 61h211v60h-211z"></path>
      <path d="m497 61h-105v60h45c8.401 0 15 6.599 15 15s-6.599 15-15 15h-361c-8.401 0-15-6.599-15-15s6.599-15 15-15h45v-60h-106c-8.401 0-15 6.599-15 15v421c0 8.401 6.599 15 15 15h272c41.4 0 75-33.6 75-75v-60c0-8.401 6.599-15 15-15h60c41.4 0 75-33.6 75-75v-211c0-8.401-6.599-15-15-15zm-331 361h-60c-8.401 0-15-6.599-15-15s6.599-15 15-15h60c8.401 0 15 6.599 15 15s-6.599 15-15 15zm0-60h-60c-8.401 0-15-6.599-15-15s6.599-15 15-15h60c8.401 0 15 6.599 15 15s-6.599 15-15 15zm0-60h-60c-8.401 0-15-6.599-15-15s6.599-15 15-15h60c8.401 0 15 6.599 15 15s-6.599 15-15 15zm0-60h-60c-8.401 0-15-6.599-15-15s6.599-15 15-15h60c8.401 0 15 6.599 15 15s-6.599 15-15 15zm121 120h-61c-8.401 0-15-6.599-15-15s6.599-15 15-15h61c8.401 0 15 6.599 15 15s-6.599 15-15 15zm0-60h-61c-8.401 0-15-6.599-15-15s6.599-15 15-15h61c8.401 0 15 6.599 15 15s-6.599 15-15 15zm0-60h-61c-8.401 0-15-6.599-15-15s6.599-15 15-15h61c8.401 0 15 6.599 15 15s-6.599 15-15 15zm120 60h-60c-8.401 0-15-6.599-15-15s6.599-15 15-15h60c8.401 0 15 6.599 15 15s-6.599 15-15 15zm0-60h-60c-8.401 0-15-6.599-15-15s6.599-15 15-15h60c8.401 0 15 6.599 15 15s-6.599 15-15 15z"></path>
      <path d="m406.745 512h90.255c8.291 0 15-6.709 15-15v-90.255c-23.862 44.658-60.597 81.393-105.255 105.255z"></path>
      <path d="m494.103 374.889c-16.466 10.735-36.028 17.111-57.103 17.111h-45v45c0 21.075-6.376 40.637-17.111 57.103 53.498-22.787 96.427-65.716 119.214-119.214z"></path>
      <path d="m151 15c0-8.401-6.599-15-15-15s-15 6.599-15 15v46h30z"></path>
      <path d="m392 15c0-8.401-6.599-15-15-15s-15 6.599-15 15v46h30z"></path>
    </g>
  </svg>
);

const groups = (
  <svg version="1.1" className={styles.sidebar__icon} xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 536.071 536.07" fill="currentColor">
    <g>
      <path d="M147.128,91.076c0-37.95,30.766-68.716,68.721-68.716c37.95,0,68.719,30.766,68.719,68.716s-30.769,68.715-68.719,68.715
        C177.894,159.792,147.128,129.026,147.128,91.076z M248.873,206.607c0.689-14.963,5.84-28.812,14.127-40.261
        c-5.816-1.218-11.827-1.865-17.995-1.865h-58.304c-6.15,0-12.153,0.642-17.939,1.845c8.819,12.232,14.094,27.171,14.18,43.343
        c10.72-5.896,23.02-9.253,36.085-9.253C229.625,200.416,239.714,202.624,248.873,206.607z M260.505,212.775
        c19.96,12.517,33.957,33.688,36.517,58.274c8.133,3.801,17.171,5.994,26.746,5.994c34.968,0,63.311-28.346,63.311-63.313
        c0-34.971-28.343-63.311-63.311-63.311C289.12,150.42,261.031,178.257,260.505,212.775z M219.026,342.411
        c34.962,0,63.307-28.354,63.307-63.311c0-34.962-28.345-63.311-63.307-63.311c-34.965,0-63.322,28.348-63.322,63.311
        C155.705,314.057,184.061,342.411,219.026,342.411z M245.882,346.72h-53.717c-44.697,0-81.069,36.369-81.069,81.072v65.703
        l0.171,1.029l4.522,1.406c42.658,13.323,79.718,17.779,110.224,17.779c59.571,0,94.114-16.987,96.242-18.074l4.231-2.141h0.449
        v-65.703C326.936,383.089,290.585,346.72,245.882,346.72z M350.638,281.364h-53.314c-0.579,21.332-9.683,40.542-24.081,54.35
        c39.732,11.815,68.802,48.657,68.802,92.178v20.245c52.629-1.938,82.963-16.846,84.961-17.851l4.232-2.152h0.449v-65.715
        C431.693,317.728,395.324,281.364,350.638,281.364z M364.889,149.069c19.961,12.519,33.957,33.691,36.511,58.277
        c8.134,3.801,17.171,5.99,26.746,5.99c34.975,0,63.316-28.342,63.316-63.304c0-34.972-28.342-63.311-63.316-63.311
        C393.503,86.717,365.416,114.56,364.889,149.069z M455.01,217.658h-53.303c-0.579,21.332-9.682,40.542-24.08,54.349
        c39.731,11.811,68.801,48.658,68.801,92.179v20.245c52.624-1.934,82.964-16.84,84.962-17.852l4.226-2.145h0.455v-65.723
        C536.077,254.024,499.708,217.658,455.01,217.658z M107.937,277.044c12.386,0,23.903-3.618,33.67-9.777
        c3.106-20.241,13.958-37.932,29.454-49.975c0.065-1.188,0.174-2.361,0.174-3.561c0-34.971-28.351-63.311-63.298-63.311
        c-34.977,0-63.316,28.339-63.316,63.311C44.621,248.704,72.959,277.044,107.937,277.044z M164.795,335.714
        c-14.331-13.742-23.404-32.847-24.072-54.055c-1.971-0.147-3.928-0.295-5.943-0.295H81.069C36.366,281.364,0,317.728,0,362.425
        v65.709l0.166,1.023l4.528,1.412c34.214,10.699,64.761,15.616,91.292,17.153v-19.837
        C95.991,384.371,125.054,347.523,164.795,335.714z"></path>
    </g>
</svg>
);

const role = (
  <svg version="1.1" className={styles.sidebar__icon} xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 474.565 474.565" fill="currentColor" width="32px" height="32px">
    <g>
      <path d="M255.204,102.3c-0.606-11.321-12.176-9.395-23.465-9.395C240.078,95.126,247.967,98.216,255.204,102.3z"></path>
      <path d="M134.524,73.928c-43.825,0-63.997,55.471-28.963,83.37c11.943-31.89,35.718-54.788,66.886-63.826
        C163.921,81.685,150.146,73.928,134.524,73.928z"></path>
      <path d="M43.987,148.617c1.786,5.731,4.1,11.229,6.849,16.438L36.44,179.459c-3.866,3.866-3.866,10.141,0,14.015l25.375,25.383
        c1.848,1.848,4.38,2.888,7.019,2.888c2.61,0,5.125-1.04,7.005-2.888l14.38-14.404c2.158,1.142,4.55,1.842,6.785,2.827
        c0-0.164-0.016-0.334-0.016-0.498c0-11.771,1.352-22.875,3.759-33.302c-17.362-11.174-28.947-30.57-28.947-52.715
        c0-34.592,28.139-62.739,62.723-62.739c23.418,0,43.637,13.037,54.43,32.084c11.523-1.429,22.347-1.429,35.376,1.033
        c-1.676-5.07-3.648-10.032-6.118-14.683l14.396-14.411c1.878-1.856,2.918-4.38,2.918-7.004c0-2.625-1.04-5.148-2.918-7.004
        l-25.361-25.367c-1.94-1.941-4.472-2.904-7.003-2.904c-2.532,0-5.063,0.963-6.989,2.904l-14.442,14.411
        c-5.217-2.764-10.699-5.078-16.444-6.825V9.9c0-5.466-4.411-9.9-9.893-9.9h-35.888c-5.451,0-9.909,4.434-9.909,9.9v20.359
        c-5.73,1.747-11.213,4.061-16.446,6.825L75.839,22.689c-1.942-1.941-4.473-2.904-7.005-2.904c-2.531,0-5.077,0.963-7.003,2.896
        L36.44,48.048c-1.848,1.864-2.888,4.379-2.888,7.012c0,2.632,1.04,5.148,2.888,7.004l14.396,14.403
        c-2.75,5.218-5.063,10.708-6.817,16.438H23.675c-5.482,0-9.909,4.441-9.909,9.915v35.889c0,5.458,4.427,9.908,9.909,9.908H43.987z"></path>
      <path d="M354.871,340.654c15.872-8.705,26.773-25.367,26.773-44.703c0-28.217-22.967-51.168-51.184-51.168
        c-9.923,0-19.118,2.966-26.975,7.873c-4.705,18.728-12.113,36.642-21.803,52.202C309.152,310.022,334.357,322.531,354.871,340.654z
        "></path>
      <path d="M460.782,276.588c0-5.909-4.799-10.693-10.685-10.693H428.14c-1.896-6.189-4.411-12.121-7.393-17.75l15.544-15.544
        c2.02-2.004,3.137-4.721,3.137-7.555c0-2.835-1.118-5.553-3.137-7.563l-27.363-27.371c-2.08-2.09-4.829-3.138-7.561-3.138
        c-2.734,0-5.467,1.048-7.547,3.138l-15.576,15.552c-5.623-2.982-11.539-5.481-17.751-7.369v-21.958
        c0-5.901-4.768-10.685-10.669-10.685H311.11c-2.594,0-4.877,1.04-6.739,2.578c3.26,11.895,5.046,24.793,5.046,38.552
        c0,8.735-0.682,17.604-1.956,26.423c7.205-2.656,14.876-4.324,22.999-4.324c36.99,0,67.086,30.089,67.086,67.07
        c0,23.637-12.345,44.353-30.872,56.303c13.48,14.784,24.195,32.324,31.168,51.976c1.148,0.396,2.344,0.684,3.54,0.684
        c2.733,0,5.467-1.04,7.563-3.13l27.379-27.371c2.004-2.004,3.106-4.721,3.106-7.555s-1.102-5.551-3.106-7.563l-15.576-15.552
        c2.982-5.621,5.497-11.555,7.393-17.75h21.957c2.826,0,5.575-1.118,7.563-3.138c2.004-1.996,3.138-4.72,3.138-7.555
        L460.782,276.588z"></path>
      <path d="M376.038,413.906c-16.602-48.848-60.471-82.445-111.113-87.018c-16.958,17.958-37.954,29.351-61.731,29.351
        c-23.759,0-44.771-11.392-61.713-29.351c-50.672,4.573-94.543,38.17-111.145,87.026l-9.177,27.013
        c-2.625,7.773-1.368,16.338,3.416,23.007c4.783,6.671,12.486,10.631,20.685,10.631h315.853c8.215,0,15.918-3.96,20.702-10.631
        c4.767-6.669,6.041-15.234,3.4-23.007L376.038,413.906z"></path>
      <path d="M120.842,206.782c0,60.589,36.883,125.603,82.352,125.603c45.487,0,82.368-65.014,82.368-125.603
        C285.563,81.188,120.842,80.939,120.842,206.782z"></path>
    </g>
</svg>
);

const secretaries = (
  <svg className={styles.sidebar__icon} height="32px" viewBox="0 0 64 64" width="32px" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
    <g>
      <path d="m8 18v-1a.988.988 0 0 1 .55-.89l4-2a.978.978 0 0 1 .69-.08l8 2a1.072 1.072 0 0 1 .48.29 4.971 4.971 0 0 0 1.28-3.32v-3h-11a5 5 0 0 0 -5 5v2a1 1 0 0 0 1 1z"></path>
      <path d="m13.12 16.06-3.12 1.56v5.38a5 5 0 0 0 10 0v-5.22zm.88 4.94h-2v-2h2zm4 0h-2v-2h2z"></path>
      <path d="m28 42v4h-26v-4a7.015 7.015 0 0 1 5.55-6.91l4.64 6.49a1 1 0 0 0 .81.42h4a1 1 0 0 0 .81-.42l4.64-6.49a7.015 7.015 0 0 1 5.55 6.91z"></path>
      <path d="m62 48v6h-5v8h-50v-8h-5v-6z"></path>
      <path d="m13.51 40h2.98l3.91-5.48-1.13-.38-3.56 3.57a1.008 1.008 0 0 1 -1.42 0l-3.56-3.57-1.13.38z"></path>
      <path d="m15 30a7.268 7.268 0 0 1 -2-.29v2.29a1.033 1.033 0 0 1 -.29.71l-.3.29 2.59 2.59 2.59-2.59-.3-.29a1.033 1.033 0 0 1 -.29-.71v-2.29a7.268 7.268 0 0 1 -2 .29z"></path>
      <path d="m60 43h-.03a.964.964 0 0 1 0 .24l-.69 2.76h-24.56l-.69-2.76a1.022 1.022 0 0 1 .18-.86 1 1 0 0 1 .79-.38h3v-11a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1z"></path>
    </g>
  </svg>
);

const mentors = (
  <svg version="1.1" className={styles.sidebar__icon} xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 937 937" fill="currentColor">
	  <path d="M513.1,360.85c5.601,0,11,0.9,16.2,2.4l97-118.9c6.2-7.6,17.7-9,25.2-2.6c7.3,6.1,8.3,17,2.2,24.4l-95.9,117.6
		c6.5,9,10.4,20.101,10.4,32.101c0,22.3-13.4,41.6-32.5,50.199H912c13.8,0,25-11.199,25-25v-316.5c0-13.8-11.2-25-25-25H434
		c-13.8,0-25,11.2-25,25v207.8l22.6,28.6h81.5V360.85z"></path>
	  <circle cx="201.3" cy="121.85" r="102.4"></circle>
		<path d="M306.3,892.55c0,13.801-11.2,25-25,25h-42c-13.8,0-25-11.199-25-25v-209.6c0-7.4-6-13.4-13.4-13.4l0,0
			c-7.4,0-13.4,6-13.4,13.4v208.6c0,14.301-11.7,26-26,26h-41.1c-13.8,0-25-11.199-25-25l-0.2-506c0-6.8-5.5-12.399-12.4-12.399l0,0
			c-6.8,0-12.4,5.5-12.4,12.399V581.15c0,13.8-11.2,25-25,25H25c-13.8,0-25-11.2-25-25v-266.8c0-31.7,25.7-57.3,57.3-57.3H285
			c24.399,0,47.5,11.2,62.7,30.3l61.199,77.2l12.9,16.3c0,0,58,0,91.4,0.1c13.8,0,25,11.2,25,25v19.9c0,13.8-11.2,25-25,25H405
			c-10.7,0-20.8-4.9-27.4-13.301l-45.6-58.6c-2.3-3-6-4.8-9.8-4.8H319.1c-6.8,0-12.399,5.5-12.399,12.399L306.3,892.55z"></path>
  </svg>
);

const sidebarIcons = {
  students, 
  mentors, 
  secretaries, 
  lessons, 
  groups, 
  courses, 
  schedule, 
  role
};

export const Sidebar = () => {
  const { currentUser } = useSelector(currentUserSelector, shallowEqual);

  const history = useHistory();

  const currentURL = history.location.pathname;

  const rolesObject = {
    4: [
      { id: 0, title: 'Students', link: paths.STUDENTS, active: true },
      { id: 1, title: 'Mentors', link: paths.MENTORS, active: false },
      { id: 2, title: 'Secretaries', link: paths.SECRETARIES, active: false },
      { id: 3, title: 'Lessons', link: paths.LESSONS, active: false },
      { id: 4, title: 'Groups', link: paths.GROUPS, active: false },
      { id: 5, title: 'Courses', link: paths.COURSES, active: false },
      { id: 6, title: 'Schedule', link: paths.SCHEDULE, active: false },
      { id: 7, title: 'Role', link: paths.UNASSIGNED_USERS, active: false },
    ],
    3: [
      { id: 0, title: 'Students', link: paths.STUDENTS, active: false },
      { id: 1, title: 'Mentors', link: paths.MENTORS, active: true },
      { id: 2, title: 'Secretaries', link: paths.SECRETARIES, active: false },
      { id: 3, title: 'Lessons', link: paths.LESSONS, active: false },
      { id: 4, title: 'Groups', link: paths.GROUPS, active: false },
      { id: 5, title: 'Courses', link: paths.COURSES, active: false },
      { id: 6, title: 'Schedule', link: paths.SCHEDULE, active: false },
      { id: 7, title: 'Role', link: paths.UNASSIGNED_USERS, active: false },

    ],
    2: [
      { id: 0, title: 'Students', link: paths.STUDENTS, active: false },
      { id: 1, title: 'Mentors', link: paths.MENTORS, active: true },
      { id: 2, title: 'Lessons', link: paths.LESSONS, active: true },
      { id: 3, title: 'Groups', link: paths.GROUPS, active: false },
      { id: 4, title: 'Courses', link: paths.COURSES, active: false },
      { id: 5, title: 'Schedule', link: paths.SCHEDULE, active: false },
    ],
    1: [
      { id: 0, title: 'Courses', link: paths.COURSES, active: false },
      { id: 1, title: 'Schedule', link: paths.SCHEDULE, active: true },
      { id: 2, title: 'Support', link: paths.SUPPORT, active: false },
    ],
  };

  const [tabs, setTabs] = useState([]);
  const [sidebar, setSidebar] = useState({
    active: false,
  });

  useEffect(() => {
    const headerArray = rolesObject[currentUser.role];
    const resultArr = headerArray.map((tab) => ({
      ...tab,
      active: currentURL.includes(tab.title.toLowerCase()),
    }));
    setTabs(resultArr);
  }, [currentUser]);

  const toggleActiveTab = (event) => {
    setTabs((prevstate) => {
      prevstate.find((tab) => {
        if (tab.active) {
          tab.active = false;
        }
      });

      return prevstate.map((tab, index) => {
        if (index == event.target.dataset.id) {
          return {
            ...tab,
            active: !tab.active,
          };
        }
        return tab;
      });
    });
  };

  function toggleSidebar(event) {

    if ( (event.type === 'mouseout' && document.documentElement.clientWidth < 769) || (event.type === 'mouseover' && document.documentElement.clientWidth < 769) ) {
      return false;
    }

    setSidebar((prevState) => ({
      ...prevState,
      active: !prevState.active,
    }));
  }

  const [logoutDefined] = useActions([logOut]);

  const loggingOut = () => {
    logoutDefined();
  };

    return (
      <nav className={styles.sidebar}>

        <div className={classNames(styles['sidebar__toggler'])} onClick={toggleSidebar}>{sidebarToggler}</div>

        <div className={styles.sidebar__icons}></div>

        <div onMouseOver={toggleSidebar} onMouseOut={toggleSidebar} className={classNames(styles.sidebar__content, { [styles['sidebar--active']]: sidebar.active })}>
          <div className={styles['sidebar__links']}>
            {tabs.map(({ id, title, link }) => (
              <Link
                className="nav-item nav-link d-flex justify-content-between"
                to={`${link}`}
                key={id}
                // onClick={toggleSidebar}
                // onMouseOver={toggleSidebar}
                // onMouseOut={toggleSidebar}
              >
                {title}
                {sidebarIcons[title.toLowerCase()]}
              </Link>
            ))}
          </div>
        </div>
      </nav>
    )
}